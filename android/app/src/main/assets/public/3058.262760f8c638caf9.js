"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3058],{3058:(P,_,e)=>{e.r(_),e.d(_,{LoginPage:()=>E});var c=e(5861),u=e(6895),r=e(433),i=e(6114),m=e(2340),n=e(8256),p=e(7556),v=e(849);function f(a,l){1&a&&n._UZ(0,"ion-spinner",13)}let E=(()=>{class a{constructor(o,t,s,g){this.formBuilder=o,this.authService=t,this.storage=s,this.navController=g,this.loginForm=this.formBuilder.group({username:[m.N.production?"":"xaviermarques4f@gmail.com",r.kI.required],password:[m.N.production?"":"Aobcd8663",r.kI.required]}),this.isLoading=!1}ngOnInit(){}login(){var o=this;return(0,c.Z)(function*(){var t,s;o.isLoading=!0;const g={identifier:null===(t=o.loginForm.get("username"))||void 0===t?void 0:t.value,password:null===(s=o.loginForm.get("password"))||void 0===s?void 0:s.value};try{const d=yield o.authService.login(g);console.log(d),yield o.storage.set("token",d),o.navController.navigateForward("/home")}catch{o.isLoading=!1}o.isLoading=!1})()}}return a.\u0275fac=function(o){return new(o||a)(n.Y36(r.qu),n.Y36(p.e),n.Y36(v.K),n.Y36(i.SH))},a.\u0275cmp=n.Xpm({type:a,selectors:[["app-login"]],standalone:!0,features:[n.jDz],decls:18,vars:3,consts:[[1,"ion-padding"],[1,"login-container"],[1,"ion-justify-content-center"],[2,"text-align","center"],["src","../../../assets/icon/ScrumStock.svg",1,""],[3,"formGroup","ngSubmit"],["lines","none",1,"item"],["position","stacked"],["type","text","formControlName","username"],["type","password","formControlName","password"],[1,"center"],["type","submit","shape","round",1,"btn-grad",3,"disabled"],["name","circular",4,"ngIf"],["name","circular"]],template:function(o,t){1&o&&(n.TgZ(0,"ion-content",0)(1,"ion-grid",1)(2,"ion-row",2)(3,"ion-col",3),n._UZ(4,"img",4),n.TgZ(5,"form",5),n.NdJ("ngSubmit",function(){return t.login()}),n.TgZ(6,"ion-item",6)(7,"ion-label",7),n._uU(8,"Usuario"),n.qZA(),n._UZ(9,"ion-input",8),n.qZA(),n.TgZ(10,"ion-item",6)(11,"ion-label",7),n._uU(12,"Contrase\xf1a"),n.qZA(),n._UZ(13,"ion-input",9),n.qZA(),n.TgZ(14,"div",10)(15,"ion-button",11),n._uU(16," Entrar "),n.YNc(17,f,1,0,"ion-spinner",12),n.qZA()()()()()()()),2&o&&(n.xp6(5),n.Q6J("formGroup",t.loginForm),n.xp6(10),n.Q6J("disabled",!t.loginForm.valid),n.xp6(2),n.Q6J("ngIf",t.isLoading))},dependencies:[i.Pc,i.YG,i.wI,i.W2,i.jY,i.pK,i.Ie,i.Q$,i.Nd,i.PQ,i.j9,u.ez,u.O5,r.u5,r._Y,r.JJ,r.JL,r.UX,r.sg,r.u]}),a})()}}]);