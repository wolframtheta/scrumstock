"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8194],{8194:(M,_,a)=>{a.r(_),a.d(_,{SalesPage:()=>p});var i=a(5861),c=a(6895),d=a(433),r=a(6114),m=a(3315),l=a(1848),g=a(1135),t=a(8256),v=a(849),E=a(910),P=a(2953),f=a(8270);function h(n,o){if(1&n&&(t.TgZ(0,"ion-col",10),t._UZ(1,"app-item-card",11),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("item",e)}}function O(n,o){1&n&&(t.TgZ(0,"ion-row",12)(1,"ion-title"),t._uU(2,"No hay art\xedculos para vender"),t.qZA()())}let p=(()=>{class n{constructor(e,s,u,D,T){this.storage=e,this.cartService=s,this.navCtrl=u,this.itemService=D,this.utilsService=T,this.items=[],this.subject=new g.X(this.cart),this.obsCart=this.subject.asObservable()}ngOnInit(){return(0,i.Z)(function*(){})()}addToCart(e){var s=this;return(0,i.Z)(function*(){s.cart=yield s.cartService.addToCart(e.item,s.cart)})()}removeToCart(e){var s=this;return(0,i.Z)(function*(){s.cart=yield s.cartService.removeToCart(e.item,s.cart)})()}resetCart(){var e=this;return(0,i.Z)(function*(){const s=e.cartService.initCart();yield e.storage.set(l.WZ,s)})()}ionViewDidEnter(){var e=this;return(0,i.Z)(function*(){const s=yield e.utilsService.showLoading();e.cart=yield e.storage.get(l.WZ),e.selectedStore=yield e.storage.get("selectedStore"),e.items=(yield e.itemService.getItemsStore(e.selectedStore)).data,s.dismiss()})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v.K),t.Y36(E.N),t.Y36(r.SH),t.Y36(P.e),t.Y36(f.F))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-sales"]],standalone:!0,features:[t.jDz],decls:13,vars:4,consts:[[3,"translucent"],["defaultHref","/home","slot","start"],[3,"fullscreen"],[1,"h-full"],[1,"h-64"],["size","6",4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed"],[3,"click"],["name","cart"],["size","6"],[3,"item"],[1,"text-center"]],template:function(e,s){1&e&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t._uU(3,"Ventas"),t.qZA(),t._UZ(4,"ion-back-button",1),t.qZA()(),t.TgZ(5,"ion-content",2)(6,"ion-grid",3)(7,"ion-row",4),t.YNc(8,h,2,1,"ion-col",5),t.qZA(),t.YNc(9,O,3,0,"ion-row",6),t.qZA(),t.TgZ(10,"ion-fab",7)(11,"ion-fab-button",8),t.NdJ("click",function(){return s.navCtrl.navigateForward("/tabs/"+s.selectedStore+"/sales/checkout")}),t._UZ(12,"ion-icon",9),t.qZA()()()),2&e&&(t.Q6J("translucent",!0),t.xp6(5),t.Q6J("fullscreen",!0),t.xp6(3),t.Q6J("ngForOf",s.items),t.xp6(1),t.Q6J("ngIf",!s.items.length))},dependencies:[r.Pc,r.oU,r.wI,r.W2,r.IJ,r.W4,r.jY,r.Gu,r.gu,r.Nd,r.wd,r.sr,r.cs,c.ez,c.sg,c.O5,d.u5,m.E]}),n})()}}]);