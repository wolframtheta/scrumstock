"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8865],{8865:(U,m,i)=>{i.r(m),i.d(m,{routes:()=>J});var c=i(5861),d=i(6895),p=i(433),n=i(6114),f=i(9993),t=i(8256),v=i(849),Z=i(2e3),h=i(4876),P=i(8270);function S(o,a){1&o&&(t.TgZ(0,"span",13),t._uU(1,"Pagado"),t.qZA())}const T=function(o){return[o]},x=function(o){return{log:o}};function A(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"ion-item-sliding",7),t.NdJ("ionDrag",function(r){const l=t.CHM(e).$implicit,g=t.oxw();return t.KtG(g.markAsPaid(r,l))}),t.TgZ(1,"ion-item")(2,"ion-card",8)(3,"ion-card-header"),t._uU(4),t.qZA(),t.TgZ(5,"ion-card-content")(6,"div",9)(7,"span"),t._uU(8),t.qZA(),t.YNc(9,S,2,0,"span",10),t.qZA()()()(),t.TgZ(10,"ion-item-options",11)(11,"ion-item-option",12),t._uU(12,"Pagar"),t.qZA()()()}if(2&o){const e=a.$implicit;t.xp6(2),t.Q6J("routerLink",t.VKq(6,T,e.id))("state",t.VKq(8,x,e)),t.xp6(2),t.AsE(" Venta - ",e.client," total: ",e.total," "),t.xp6(4),t.hij(" Realizado por: ",null==e.user?null:e.user.username," "),t.xp6(1),t.Q6J("ngIf",e.paid)}}function y(o,a){1&o&&(t.TgZ(0,"ion-title",14),t._uU(1,"No hay ventas realizadas"),t.qZA())}const J=[{path:"",component:(()=>{class o{constructor(e,s,r,u){this.storage=e,this.storeService=s,this.logsService=r,this.utilsService=u,this.logs=[]}ngOnInit(){return(0,c.Z)(function*(){})()}ionViewDidEnter(){var e=this;return(0,c.Z)(function*(){yield e.loadPage()})()}loadPage(){var e=this;return(0,c.Z)(function*(){const s=yield e.utilsService.showLoading();e.store=(yield e.storeService.getStore(Number(yield e.storage.get("selectedStore")))).data,e.logs=(yield e.logsService.getLogsByStore(e.store.id)).data.sort((r,u)=>{var l,g;return(null!==(l=u.id)&&void 0!==l?l:0)-(null!==(g=r.id)&&void 0!==g?g:0)}),s.dismiss()})()}markAsPaid(e,s){var r=this;return(0,c.Z)(function*(){-1===e.detail.ratio&&(s.paid=!0,yield r.logsService.updateLog(s),e.target.close())})()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(v.K),t.Y36(Z.d),t.Y36(h.P),t.Y36(P.F))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-store"]],standalone:!0,features:[t.jDz],decls:11,vars:6,consts:[[3,"translucent"],["defaultHref","/home","slot","start"],["slot","end"],[3,"src"],[3,"fullscreen"],["line","none",3,"ionDrag",4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],["line","none",3,"ionDrag"],[1,"w-full","bg-blue-950",3,"routerLink","state"],[1,"flex","justify-between"],["class","uppercase text-green-600",4,"ngIf"],["side","start"],["color","success"],[1,"uppercase","text-green-600"],[1,"text-center"]],template:function(e,s){1&e&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t._uU(3),t.qZA(),t._UZ(4,"ion-back-button",1),t.TgZ(5,"ion-avatar",2),t._UZ(6,"ion-img",3),t.qZA()()(),t.TgZ(7,"ion-content",4)(8,"ion-list"),t.YNc(9,A,13,10,"ion-item-sliding",5),t.qZA(),t.YNc(10,y,2,0,"ion-title",6),t.qZA()),2&e&&(t.Q6J("translucent",!0),t.xp6(3),t.Oqu(null==s.store?null:s.store.name),t.xp6(3),t.Q6J("src",null==s.store?null:s.store.img),t.xp6(1),t.Q6J("fullscreen",!0),t.xp6(2),t.Q6J("ngForOf",s.logs),t.xp6(1),t.Q6J("ngIf",!s.logs.length))},dependencies:[n.Pc,n.BJ,n.oU,n.PM,n.FN,n.Zi,n.W2,n.Gu,n.Xz,n.Ie,n.u8,n.IK,n.td,n.q_,n.wd,n.sr,n.cs,n.YI,d.ez,d.sg,d.O5,p.u5,f.Bz,f.rH]}),o})()},{path:":id",loadComponent:()=>Promise.all([i.e(8592),i.e(6961)]).then(i.bind(i,6961)).then(o=>o.DetailPage)}]}}]);